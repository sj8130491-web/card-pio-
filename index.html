<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Chapec√≥ | Card√°pio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4500;
            --primary-hover: #e63e00;
            --success: #2ecc71;
            --bg: #121212;
            --card-bg: #1e1e1e;
            --text: #ffffff;
            --text-secondary: #b3b3b3;
        }

        body { 
            background-color: var(--bg); 
            color: var(--text); 
            font-family: 'Inter', sans-serif; 
            margin: 0; 
            padding-bottom: 120px; 
        }

        header { 
            padding: 40px 20px; 
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1544025162-d76694265947?auto=format&fit=crop&w=1000&q=80');
            background-size: cover;
            background-position: center;
            border-bottom: 3px solid var(--primary); 
            text-align: center;
        }

        header h1 { margin: 0; font-size: 2rem; text-transform: uppercase; letter-spacing: 2px; }
        header p { color: var(--primary); font-weight: 600; margin-top: 5px; }

        .container { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; 
            padding: 30px 20px; 
            max-width: 1100px; 
            margin: auto; 
        }

        .card { 
            background: var(--card-bg); 
            border-radius: 15px; 
            padding: 20px; 
            border: 1px solid #333; 
            text-align: left;
            transition: transform 0.3s ease, border-color 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .card h3 { margin: 0; font-size: 1.2rem; color: var(--text); }

        .preco { 
            color: var(--primary); 
            font-size: 1.4rem; 
            font-weight: 800; 
            display: block; 
            margin: 15px 0; 
        }

        .btn-add { 
            background: var(--primary); 
            color: white; 
            border: none; 
            padding: 12px; 
            width: 100%; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .btn-add:hover { background: var(--primary-hover); }
        .btn-add:active { transform: scale(0.98); }

        .carrinho-btn { 
            position: fixed; 
            bottom: 30px; 
            left: 50%; 
            transform: translateX(-50%); 
            background: var(--success); 
            color: white; 
            padding: 18px 30px; 
            border-radius: 50px; 
            font-weight: bold; 
            text-decoration: none; 
            width: 280px; 
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            transition: 0.3s;
        }

        .carrinho-btn:hover { transform: translateX(-50%) translateY(-3px); filter: brightness(1.1); }

        .badge {
            background: white;
            color: var(--success);
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

<header>
    <h1>üî• Delivery Chapec√≥</h1>
    <p>O melhor espetinho da regi√£o</p>
</header>

<div class="container" id="lista"></div>

<a href="#" class="carrinho-btn" onclick="enviar()">
    <span><i class="fa fa-shopping-cart"></i> Finalizar Pedido</span>
    <span class="badge" id="total">0</span>
</a>

<script>
    // Tenta pegar o n√∫mero do WhatsApp salvo no admin, sen√£o usa o padr√£o
    const whats = localStorage.getItem('whatsapp') || "5549999999999"; 
    
    // Tenta pegar os produtos cadastrados no admin, sen√£o usa os padr√µes abaixo
    const produtosPadrao = [
        { nome: "Espetinho de Carne", preco: 10.00 },
        { nome: "Espetinho de Frango", preco: 9.00 },
        { nome: "Cora√ß√£o de Frango", preco: 12.00 },
        { nome: "P√£o de Alho", preco: 8.00 }
    ];

    const produtos = JSON.parse(localStorage.getItem('produtos')) || produtosPadrao;

    let carrinho = [];

    function render() {
        document.getElementById('lista').innerHTML = produtos.map((p, i) => `
            <div class="card">
                <h3>${p.nome}</h3>
                <span class="preco">R$ ${parseFloat(p.preco).toFixed(2)}</span>
                <button class="btn-add" onclick="add(${i})">
                    <i class="fa fa-plus"></i> ADICIONAR
                </button>
            </div>
        `).join('');
    }

    function add(i) {
        carrinho.push(produtos[i]);
        document.getElementById('total').innerText = carrinho.length;
        
        // Pequeno efeito visual no bot√£o de finalizar
        const btn = document.querySelector('.carrinho-btn');
        btn.style.transform = 'translateX(-50%) scale(1.05)';
        setTimeout(() => btn.style.transform = 'translateX(-50%) scale(1)', 200);
    }

    function enviar() {
        if (carrinho.length === 0) return alert("Seu carrinho est√° vazio!");
        
        let totalPedido = carrinho.reduce((acc, item) => acc + parseFloat(item.preco), 0);
        let msg = "*Novo Pedido - Delivery Chapec√≥*\n";
        msg += "------------------------------\n";
        msg += carrinho.map(item => "‚úÖ " + item.nome + " - R$ " + parseFloat(item.preco).toFixed(2)).join("\n");
        msg += "\n------------------------------";
        msg += "\n*Total: R$ " + totalPedido.toFixed(2) + "*";
        
        window.open("https://wa.me/" + whats + "?text=" + encodeURIComponent(msg));
    }

    render();
</script>
</body>
</html>






